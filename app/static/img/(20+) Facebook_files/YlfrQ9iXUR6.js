if (self.CavalryLogger) { CavalryLogger.start_js(["Lljdh"]); }

__d("MWChatTabContentNew.bs",["bs_curry","React","MWTheme.bs","stylex","bs_caml_option","MWChatThread.bs","MWChatComposer.bs","MWUIThreadEmoji.bs","MWChatTabContent.bs","MWUIChatThreadHook.bs","MWUIChatContextBanner.bs","MWUILoadThreadPicture.bs","MWChatComposerMediaDropTarget.bs"],function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(a){var c=a.id,d=a.contextBannerData,e=a.items,f=a.dispatch,i=a.otherUserFbid,j=a.customLikeEmoji,k=a.isTabFocused,l=a.hasContent,m=a.repliedToMessage,n=a.buildSharedMediaViewerURL,o=a.closeReplyPreview;a=a.onSendMessage;var p=b("MWTheme.bs").useTheme(0),q=h.useRef(0),r=h.useState(function(){return!1}),s=r[1],t=h.useRef(null),u=h.useRef(null),v=h.useRef(null),w;w=p.tag?{backgroundImage:b("MWTheme.bs").gradient(void 0,void 0,p[0].colors)}:void 0;c={children:h.jsx(b("MWChatThread.bs").make,{id:c,items:e,isScrolledToBottomRef:q,dispatch:f,contextBannerData:d,welcomePageData:void 0,spacerRef:u,scrollerRef:t,buildSharedMediaViewerURL:n}),className:(g||(g=b("stylex")))(b("MWChatTabContent.bs").styles.thread)};w!==void 0&&(c.style=b("bs_caml_option").valFromOption(w));return h.jsx(h.Fragment,{children:h.jsx("div",{children:h.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[h.jsx("div",c),h.jsx("div",{children:h.jsx(b("MWChatComposer.bs").make,{color:b("MWTheme.bs").bottom(p),otherUserFbid:i,isPreviewThread:!0,customLikeEmoji:j,isTabFocused:k,shouldShowMenu:!1,hasContent:l,repliedToMessage:m,actionTrayOpen:r[0],closeActionTray:function(a){return b("bs_curry")._1(s,function(a){return!1})},openActionTray:function(a){return b("bs_curry")._1(s,function(a){return!0})},fileUploadHandlerRef:v,closeReplyPreview:o,openTabFromPreview:function(a){return f(-1006227213)},closeTab:function(a){return f(-554280547)},onSendMessage:a}),className:g(b("MWChatTabContent.bs").styles.composer)})],disabled:!1,fileUploadHandler:b("bs_caml_option").nullable_to_opt(v.current),xstyle:b("MWChatTabContent.bs").styles.dropTarget}),className:g(b("MWChatTabContent.bs").styles.main)})})}c={make:i};function a(a){var c=a.id,d=a.isTabFocused,e=a.dispatch,f=a.messages,g=a.hasContent,j=a.changeRepliedToMessage,k=a.repliedToMessage,l=a.buildSharedMediaViewerURL,m=a.closeReplyPreview;a=a.onSendMessage;b("bs_curry")._1(b("MWUIChatThreadHook.bs").useThread,c);var n=b("bs_curry")._1(b("MWUILoadThreadPicture.bs").useHook,0);n=b("bs_curry")._3(b("MWUIChatContextBanner.bs").useContextBanner,c,n,!0);var o;if(typeof c==="number")o=void 0;else{var p=c[0];o=p!==892012143&&p!==948354667?void 0:b("bs_caml_option").some(c[1])}p=b("bs_curry")._1(b("MWUIThreadEmoji.bs").useEmoji,0);var q=function(a){if(typeof a==="number"||a[0]!==-445185539)return e(a);else return b("bs_curry")._1(j,a[1])};return h.jsx(i,{id:c,contextBannerData:n,items:f,dispatch:q,otherUserFbid:o,customLikeEmoji:p,isTabFocused:d,hasContent:g,repliedToMessage:k,buildSharedMediaViewerURL:l,closeReplyPreview:m,onSendMessage:a})}d=b("MWChatTabContent.bs").styles;e=a;f.styles=d;f.Inner=c;f.make=e},null);
__d("MWChatTabNew.bs",["bs_curry","React","gkx","MWTheme.bs","MWThread.bs","MWUITheme.bs","stylex","bs_belt_Option","bs_caml_option","requireCond","MWChatComposer.bs","MWUIChatTabState.bs","MWChatTabContentNew.bs","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWUIRepliedToMessage.bs","recoverableViolation","MWChatOpenTabForGroup.bs","CometPlaceholder.react","MWChatTabContentStyles.bs","MWUILoadThreadMessages.bs","MessengerWebEntryPoint","unrecoverableViolation","MWChatConnectionStatusCard.bs","MWChatComposerMediaDropTarget.bs","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","cr:1537918"],function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(a){a.tokens;var c=a.hasContent;a=a.isTabFocused;var d=b("bs_curry")._2(b("MWChatOpenTabForGroup.bs").useHook,void 0,b("MessengerWebEntryPoint").SEARCH),e=d[0];d=function(a){if(typeof a==="number"||a[0]!==757211935){b("recoverableViolation")("expected group","messenger_web_product");return 0}else return b("bs_curry")._1(e,a[1])};var f=h.useRef(null);return h.jsx("div",{children:h.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[h.jsx("div",{className:(g||(g=b("stylex")))(b("MWChatTabContentStyles.bs").styles.thread)}),h.jsx("div",{children:h.jsx(b("MWChatComposer.bs").make,{color:b("MWTheme.bs").bottom(b("MWTheme.bs").$$default),otherUserFbid:void 0,isPreviewThread:!0,customLikeEmoji:void 0,isTabFocused:a,shouldShowMenu:!1,hasContent:c,repliedToMessage:void 0,actionTrayOpen:!1,closeActionTray:function(a){return 0},openActionTray:function(a){return 0},fileUploadHandlerRef:f,closeReplyPreview:function(a){return 0},openTabFromPreview:function(a){return 0},closeTab:function(a){return 0},onSendMessage:d}),className:g(b("MWChatTabContentStyles.bs").styles.composer)})],disabled:!1,fileUploadHandler:b("bs_caml_option").nullable_to_opt(f.current),xstyle:b("MWChatTabContentStyles.bs").styles.dropTarget}),className:g(b("MWChatTabContentStyles.bs").styles.main)})}c={make:i};function j(a){var c,d=a.isTabFocused;a=a.hasContent;var e=b("MWThread.bs").useIdExn(0),f=(c=b("bs_curry"))._2(b("MWChatOpenTabForUser.bs").useHook,void 0,b("MessengerWebEntryPoint").SEARCH),g=f[0],i=c._2(b("MWChatOpenTabForPage.bs").useHook,void 0,b("MessengerWebEntryPoint").SEARCH);f=c._2(b("MWChatOpenTabForGroup.bs").useHook,void 0,b("MessengerWebEntryPoint").SEARCH);var j=f[0];f=c._1(b("MWUIRepliedToMessage.bs").useCurrentlyRepliedToMessage,0);var k=f[2],l=function(a){var c=a[0];if(c>=892012143)if(c>=948354667)return b("bs_curry")._1(g,a[1]);else return b("bs_curry")._1(i,a[1]);else if(c>=757211935)return b("bs_curry")._1(j,a[1]);else return b("unrecoverableViolation")("Not supported","messenger_web_product")},m=function(a,c){if(b("gkx")("1269455")&&!c)return b("XCometMessengerMediaControllerRouteBuilder").buildURL({thread_id:e[1],attachment_id:a.fbid,message_id:a.message_id});else return b("XCometMessengerPhotoControllerRouteBuilder").buildURL({photo_ids:a.photo_ids,fbid:a.fbid,message_id:a.message_id})},n=h.useState(function(){return}),o=n[1];n=[[246387948,c._1(b("MWUILoadThreadMessages.bs").useMessageItems,0)]];c=c._1(b("MWUITheme.bs").useTheme,0);return h.jsx(b("CometPlaceholder.react"),{children:h.jsx(b("MWTheme.bs").provider,{theme:c,children:h.jsx(b("MWChatTabContentNew.bs").make,{id:e,isTabFocused:d,dispatch:function(a){a=a;if(typeof a==="number")if(a!==-1006227213)if(a>=-141840458)return b("bs_curry")._1(k,0);else return 0;else return l(e);else return 0},messages:n,hasContent:a,changeRepliedToMessage:f[1],repliedToMessage:f[0],buildSharedMediaViewerURL:m,closeReplyPreview:function(a){return b("bs_curry")._1(o,function(a){return})},onSendMessage:l})}),fallback:null})}d={make:j};function a(a){var c=a.previewThreadID,d=a.isSearchView,e=a.isTabFocused,f=a.isFetching,g=a.hasContent,k=a.onOpenPreviewForUser,l=a.setTokens,m=a.tokens;if(f)a=null;else if(c!==void 0){f=c;a=h.jsx(b("MWThread.bs").make,{id:f,children:h.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:[f],children:h.jsx(j,{isTabFocused:e,hasContent:g})})})}else a=m.length!==0?h.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:0,tokenProvider:function(a){return m.map(function(a){return a.getRawData().id})},children:h.jsx(i,{tokens:m,hasContent:g,isTabFocused:e})}):b("cr:1537918")==null||d?null:h.jsx(b("cr:1537918").make,{onOpenPreviewForUser:k,setTokens:l});return h.jsxs(h.Fragment,{children:[h.jsx(b("MWChatConnectionStatusCard.bs").make,{}),a]})}e=b("bs_belt_Option").getWithDefault;var k=b("MWChatTabContentStyles.bs").styles;a=a;f.$MWChatTabContacts$OR$null$requireCond=b("cr:1537918");f.$pipe$question=e;f.contentStyles=k;f.ComposerToCreateNewThread=c;f.ExistingThreadPreview=d;f.make=a},null);
__d("MWChatRHCSearchTypeaheadViewList.react",["fbt","CometScrollView.react","React","TetraText.react","orEmptyArray","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={list:{paddingTop:"cxgpxx05",width:"jbcpqwzg"},scroll:{maxHeight:"h812h70d"},section:{paddingTop:"jb3vyjys",paddingEnd:"dflh9lhu",paddingBottom:"qt6c0cv9",paddingStart:"scb9dxdr"},title:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"}};function k(a){var c=a.activeEntryKey,d=a.children,e=a.entries;a=a.title;return e!=null&&e.length>0?i.jsxs("div",{className:(h||(h=b("stylex")))(j.section),children:[a!=null?i.jsx("div",{className:(h||(h=b("stylex")))(j.title),children:i.jsx(b("TetraText.react"),{type:"entityHeaderMeta1",children:a})}):null,e.map(function(a,b){var e=c===a.getKey();return d(a,e,b)})]}):null}function a(a){var c=a.children,d=a.entries,e=a.highlightedEntry;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","entries","highlightedEntry"]);e=e!=null?e.getKey():null;d=d.reduce(function(a,b){var c=b.getRawData();c=c.resultType;a[c]!=null?a[c].push(b):a[c]=[b];return a},{});var f=b("orEmptyArray")(d.user);return i.jsx(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,xstyle:j.scroll,children:i.jsx("ul",{className:(h||(h=b("stylex")))(j.list),"data-testid":void 0,role:"listbox",children:a.queryString===""?i.jsx(k,{activeEntryKey:e,children:c,entries:f.filter(function(a){return a.getRawData().isContact})}):i.jsxs(i.Fragment,{children:[i.jsx(k,{activeEntryKey:e,children:c,entries:f.filter(function(a){return a.getRawData().isContact}),title:g._("Contatos")}),i.jsx(k,{activeEntryKey:e,children:c,entries:d.group,title:g._("Conversas em grupo")}),i.jsx(k,{activeEntryKey:e,children:c,entries:d.page,title:g._("Empresas")}),i.jsx(k,{activeEntryKey:e,children:c,entries:f.filter(function(a){return!a.getRawData().isContact}),title:g._("Mais pessoas")})]})})})}e.exports=a},null);
__d("MWChatRHCSearchTypeaheadViewStrategy.react",["MWChatRHCSearchTypeaheadViewList.react","MWJewelSearchTypeaheadViewItem.react","React"],function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.entries;a.extraViewProps;var d=a.highlightedEntry;a.onAbandonTypeahead_DO_NOT_USE;var e=babelHelpers.objectWithoutPropertiesLoose(a,["entries","extraViewProps","highlightedEntry","onAbandonTypeahead_DO_NOT_USE"]);return g.jsx(b("MWChatRHCSearchTypeaheadViewList.react"),{entries:c,highlightedEntry:d,queryString:e.queryString,children:function(a,c){return g.createElement(b("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},e,{entry:a,isActive:c,key:a.getKey()}))}})}e.exports=a},null);
__d("MWChatRHCSearchTypeahead.react",["fbt","CometRelay","CometSearchTypeaheadBaseInputRoundedStrategy.react","CometSearchTypeaheadBaseLayoutInlineStrategyWithScrollableView.react","CometTypeahead.react","MWChatRHCSearchTypeaheadViewStrategy.react","MWChatSearchTypeaheadDataSource","React","stylex","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser"],function(a,b,c,d,e,f,g){"use strict";var h=b("CometRelay").useRelayEnvironment,i=b("React");c=b("React");var j=c.useMemo,k=c.useState,l={searchInput:{borderBottom:"s1tcr66n",borderTop:"l6v480f0",paddingTop:"cxgpxx05",paddingEnd:"ph5uu5jm",paddingBottom:"sj5x9vvc",paddingStart:"b3onmgus"},searchInputInner:{backgroundColor:"g5ia77u1"},searchView:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",maxWidth:"p9y69d6p"}};function a(a){var c=a.onEscape,d=h();a=b("useMWChatOpenTabForGroup")("rhc_search");var e=a[0];a[1];var f=b("useMWChatOpenTabForPage")("rhc_search");a=b("useMWChatOpenTabForUser")("rhc_search");var m=a[0];a[1];a=k("");var n=a[0];a=a[1];var o=j(function(){return new(b("MWChatSearchTypeaheadDataSource"))({limit:10,relayEnvironment:d,suggestionsLimit:20})},[d]),p=function(){c&&!n&&c()},q=function(a){a=a.getRawData();var b=a.id;a=a.resultType;switch(a){case"group":e(b);break;case"user":m(b);break;case"page":f(b);break}};return i.jsx(b("CometTypeahead.react"),{autoFocus:!0,dataSource:o,inputExtraProps:{icon:null,xstyle:l.searchInputInner},inputStrategyRenderer:b("CometSearchTypeaheadBaseInputRoundedStrategy.react"),layoutStrategyRenderer:b("CometSearchTypeaheadBaseLayoutInlineStrategyWithScrollableView.react"),onChange:a,onEscape:p,onPressEntry:q,placeholder:g._("Pesquise por nome ou grupo"),queryString:n,viewStrategyRenderer:b("MWChatRHCSearchTypeaheadViewStrategy.react"),xstyles:{inputXStyle:l.searchInput,viewXStyle:l.searchView}})}e.exports=a},null);
__d("MWChatRHCSearchTypeahead.bs",["MWChatRHCSearchTypeahead.react"],function(a,b,c,d,e,f){"use strict";a=b("MWChatRHCSearchTypeahead.react");f.make=a},null);